<html>
<html>
 <head>
    <script src="three.js-master/build/three.js"></script>
    <script src="three.js-master/examples/js/controls/OrbitControls.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script type="text/javascript" src="Block.js"></script>
    <script type="text/javascript" src="http://threejs.org/examples/js/controls/OrbitControls.js"></script>

    <script type="text/javascript">

    $(function()
    {
        //scene
        scene = new THREE.Scene();
        //Fog
				scene.fog = new THREE.Fog( 0xffffff, 1000, 10000 );

        //Camera and controlls
        camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 2000);
				camera.position.z = 500;

				controls = new THREE.OrbitControls( camera );
				controls.damping = 0.2;
				controls.addEventListener( 'change', render );
        // /Camera and Controlls

        //renderer
        var renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        renderer.shadowMapEnabled = true;
        renderer.shadowMapSoft = true;

        //show canvas
        $("#canvas-container").html(renderer.domElement);

        //lights
        scene.add( new THREE.AmbientLight( 0x808080 ) );

        light = new THREE.SpotLight( 0xffffff, 1.25 );
				light.position.set(-500, 900, 600);
				light.target.position.set( window.innerWidth / 2, 0, window.innerWidth / 2 );
				light.castShadow = true;
				scene.add( light );

        /*  Coole Dinge  */

        var blocks = [];
        for(var x = 0; x < 3; x++)
        {
          var row = [];
          for(var y = 0; y < 3; y++)
          {
            var block = new Block(new THREE.Vector3(x * 11, y * 11, 0), new THREE.Vector3(10, 10, 10), scene);
            row.push(block);
          }
          blocks.push(row);
        }

        blocks[0][0].setSize(30);

        console.log(blocks);

        /*  Coole Dinge  */

        //render scene
        var render = function () {
            requestAnimationFrame(render);
            renderer.render(scene, camera);
        };

        render();
    });

    </script>

    </head>
    <body style="background: black">

        <div id="canvas-container" style="position: absolute; left:0px; top:0px"></div>

    </body>
</html>
